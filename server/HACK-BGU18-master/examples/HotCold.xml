<mxGraphModel dx="1217" dy="729" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" background="#ffffff"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=1;" parent="1" source="2" target="9" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="200" y="190"/><mxPoint x="200" y="100"/></Array></mxGeometry></mxCell><object label="START" type="context" name="n1" placeholders="1" code="" id="2"><mxCell style="shape=flow.node;whiteSpace=wrap;html=1;fillColor=#D5E8D4;strokeColor=#000000;strokeWidth=2;shadow=1;" parent="1" vertex="1"><mxGeometry x="50" y="170" width="98" height="40" as="geometry"/></mxCell></object><mxCell id="31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;entryX=0;entryY=0.5;entryPerimeter=0;jettySize=auto;orthogonalLoop=1;exitX=1;exitY=0.5;" parent="1" source="2" target="13" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="190" y="190" as="sourcePoint"/></mxGeometry></mxCell><mxCell id="16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=1;entryX=0;entryY=0.5;entryPerimeter=0;" parent="1" source="13" target="43" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="450" y="190" as="targetPoint"/><Array as="points"/></mxGeometry></mxCell><object label="Request: COLD" type="node" name="n21" placeholders="1" code="bp.sync({&#10;  request : bp.Event(&quot;COLD&quot;)&#10;});&#10;" id="13"><mxCell style="shape=flow.node;whiteSpace=wrap;html=1;fillColor=#C3ABD0;strokeColor=#000000;strokeWidth=2;shadow=1;" parent="1" vertex="1"><mxGeometry x="270" y="170" width="100" height="40" as="geometry"/></mxCell></object><mxCell id="48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;entryX=0;entryY=0.5;entryPerimeter=0;jettySize=auto;orthogonalLoop=1;" edge="1" parent="1" source="9" target="46"><mxGeometry relative="1" as="geometry"/></mxCell><object label="Request:HOT" type="node" name="n12" placeholders="1" code="bp.sync({request : bp.Event(&quot;HOT&quot;) });&#10;" id="9"><mxCell style="shape=flow.node;whiteSpace=wrap;html=1;fillColor=#C3ABD0;strokeColor=#000000;strokeWidth=2;shadow=1;" parent="1" vertex="1"><mxGeometry x="272" y="80" width="98" height="40" as="geometry"/></mxCell></object><object label="%name%" placeholders="1" name="not last" id="38"><mxCell style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=1;entryX=0;entryY=0.5;entryPerimeter=0;exitX=1;exitY=0.5;exitPerimeter=0;" parent="1" source="46" target="9" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="242" y="150" as="targetPoint"/><Array as="points"><mxPoint x="540" y="100"/><mxPoint x="569" y="100"/><mxPoint x="569" y="60"/><mxPoint x="249" y="60"/><mxPoint x="249" y="100"/></Array><mxPoint x="530" y="100" as="sourcePoint"/></mxGeometry></mxCell></object><mxCell id="20" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=1;" parent="1" source="17" target="19" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><object label="Wait:HOT&lt;br&gt;Block:COLD" type="node" name="int1" placeholders="1" code="bp.sync({ waitFor :  bp.Event(&quot;HOT&quot;) , block :  bp.Event(&quot;COLD&quot;) });&#10;&#10;" id="17"><mxCell style="shape=flow.node;whiteSpace=wrap;html=1;fillColor=#C3ABD0;strokeColor=#000000;strokeWidth=2;shadow=1;" parent="1" vertex="1"><mxGeometry x="283" y="260" width="100" height="40" as="geometry"/></mxCell></object><mxCell id="22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=1;exitX=1;exitY=0.5;exitPerimeter=0;" parent="1" source="19" target="17" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="513" y="380" as="targetPoint"/><Array as="points"><mxPoint x="570" y="280"/><mxPoint x="570" y="240"/><mxPoint x="250" y="240"/><mxPoint x="250" y="280"/></Array></mxGeometry></mxCell><object label="Wait:COLD&lt;br&gt;Block:HOT" type="node" name="int2" placeholders="1" code="bp.sync({ waitFor :  bp.Event(&quot;COLD&quot;) , block :  bp.Event(&quot;HOT&quot;) });&#10;" id="19"><mxCell style="shape=flow.node;whiteSpace=wrap;html=1;fillColor=#C3ABD0;strokeColor=#000000;strokeWidth=2;shadow=1;" parent="1" vertex="1"><mxGeometry x="432" y="260" width="100" height="40" as="geometry"/></mxCell></object><mxCell id="33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" parent="1" source="2" target="17" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="190" y="300" as="sourcePoint"/><Array as="points"><mxPoint x="200" y="190"/><mxPoint x="200" y="280"/></Array></mxGeometry></mxCell><object label="%name%" name="not last" placeholders="1" id="45"><mxCell style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" parent="1" source="43" target="13" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="210" y="210" as="targetPoint"/><Array as="points"><mxPoint x="570" y="190"/><mxPoint x="570" y="150"/><mxPoint x="250" y="150"/><mxPoint x="250" y="190"/></Array><mxPoint x="541" y="190" as="sourcePoint"/></mxGeometry></mxCell></object><object label="%type%&lt;div&gt;%name%&lt;/div&gt;" type="counter" name="5" placeholders="1" code="if( ctx.n == undefined )  {&#10;  ctx.n = 5;&#10;  ctx.forward={'not last':ctx}; &#10;} else {&#10;  if( ctx.n == 0 ) {&#10;    ctx.forward = {'last': {e:'DONE'}};&#10;  } else {&#10;    ctx.forward={'not last':ctx}; &#10;    ctx.n--;&#10;  }&#10;}" id="43"><mxCell style="shape=flow.node;whiteSpace=wrap;html=1;fillColor=#FFF2CC;strokeColor=#000000;strokeWidth=2;shadow=1;" parent="1" vertex="1"><mxGeometry x="432" y="170" width="98" height="40" as="geometry"/></mxCell></object><object label="5" code="if( ctx.n==undefined )  {ctx.n = 5;ctx.forward = {'not last':ctx};} else {if( ctx.n==0){ctx.forward = {'last': {e:'DONE'}};}else{ctx.forward = {'not last': ctx};ctx.n--;}} " id="46"><mxCell style="shape=flow.counter;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2" vertex="1" parent="1"><mxGeometry x="440" y="80" width="100" height="25" as="geometry"/></mxCell></object></root></mxGraphModel>